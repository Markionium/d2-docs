!function(global){function dedupe(deps){for(var newDeps=[],i=0,l=deps.length;l>i;i++)-1==indexOf.call(newDeps,deps[i])&&newDeps.push(deps[i]);return newDeps}function register(name,deps,declare,execute){if("string"!=typeof name)throw"System.register provided no module name";var entry;entry="boolean"==typeof declare?{declarative:!1,deps:deps,execute:execute,executingRequire:declare}:{declarative:!0,deps:deps,declare:declare},entry.name=name,name in defined||(defined[name]=entry),entry.deps=dedupe(entry.deps),entry.normalizedDeps=entry.deps}function buildGroups(entry,groups){if(groups[entry.groupIndex]=groups[entry.groupIndex]||[],-1==indexOf.call(groups[entry.groupIndex],entry)){groups[entry.groupIndex].push(entry);for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depName=entry.normalizedDeps[i],depEntry=defined[depName];if(depEntry&&!depEntry.evaluated){var depGroupIndex=entry.groupIndex+(depEntry.declarative!=entry.declarative);if(void 0===depEntry.groupIndex||depEntry.groupIndex<depGroupIndex){if(void 0!==depEntry.groupIndex&&(groups[depEntry.groupIndex].splice(indexOf.call(groups[depEntry.groupIndex],depEntry),1),0==groups[depEntry.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");depEntry.groupIndex=depGroupIndex}buildGroups(depEntry,groups)}}}}function link(name){var startEntry=defined[name];startEntry.groupIndex=0;var groups=[];buildGroups(startEntry,groups);for(var curGroupDeclarative=!!startEntry.declarative==groups.length%2,i=groups.length-1;i>=0;i--){for(var group=groups[i],j=0;j<group.length;j++){var entry=group[j];curGroupDeclarative?linkDeclarativeModule(entry):linkDynamicModule(entry)}curGroupDeclarative=!curGroupDeclarative}}function getOrCreateModuleRecord(name){return moduleRecords[name]||(moduleRecords[name]={name:name,dependencies:[],exports:{},importers:[]})}function linkDeclarativeModule(entry){if(!entry.module){var module=entry.module=getOrCreateModuleRecord(entry.name),exports=entry.module.exports,declaration=entry.declare.call(global,function(name,value){module.locked=!0,exports[name]=value;for(var i=0,l=module.importers.length;l>i;i++){var importerModule=module.importers[i];if(!importerModule.locked){var importerIndex=indexOf.call(importerModule.dependencies,module);importerModule.setters[importerIndex](exports)}}return module.locked=!1,value});if(module.setters=declaration.setters,module.execute=declaration.execute,!module.setters||!module.execute)throw new TypeError("Invalid System.register form for "+entry.name);for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depExports,depName=entry.normalizedDeps[i],depEntry=defined[depName],depModule=moduleRecords[depName];depModule?depExports=depModule.exports:depEntry&&!depEntry.declarative?depExports=depEntry.module.exports&&depEntry.module.exports.__esModule?depEntry.module.exports:{"default":depEntry.module.exports,__useDefault:!0}:depEntry?(linkDeclarativeModule(depEntry),depModule=depEntry.module,depExports=depModule.exports):depExports=load(depName),depModule&&depModule.importers?(depModule.importers.push(module),module.dependencies.push(depModule)):module.dependencies.push(null),module.setters[i]&&module.setters[i](depExports)}}}function getModule(name){var exports,entry=defined[name];if(entry)entry.declarative?ensureEvaluated(name,[]):entry.evaluated||linkDynamicModule(entry),exports=entry.module.exports;else if(exports=load(name),!exports)throw new Error("Unable to load dependency "+name+".");return(!entry||entry.declarative)&&exports&&exports.__useDefault?exports["default"]:exports}function linkDynamicModule(entry){if(!entry.module){var exports={},module=entry.module={exports:exports,id:entry.name};if(!entry.executingRequire)for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depName=entry.normalizedDeps[i],depEntry=defined[depName];depEntry&&linkDynamicModule(depEntry)}entry.evaluated=!0;var output=entry.execute.call(global,function(name){for(var i=0,l=entry.deps.length;l>i;i++)if(entry.deps[i]==name)return getModule(entry.normalizedDeps[i]);throw new TypeError("Module "+name+" not declared as a dependency.")},exports,module);output&&(module.exports=output)}}function ensureEvaluated(moduleName,seen){var entry=defined[moduleName];if(entry&&!entry.evaluated&&entry.declarative){seen.push(moduleName);for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depName=entry.normalizedDeps[i];-1==indexOf.call(seen,depName)&&(defined[depName]?ensureEvaluated(depName,seen):load(depName))}entry.evaluated||(entry.evaluated=!0,entry.module.execute.call(global))}}function load(name){if(modules[name])return modules[name];var entry=defined[name];if(!entry)throw"Module "+name+" not present.";link(name),ensureEvaluated(name,[]),defined[name]=void 0;var module=entry.module.exports;return(!module||!entry.declarative&&module.__esModule!==!0)&&(module={"default":module,__useDefault:!0}),modules[name]=module}var defined={},indexOf=Array.prototype.indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(this[i]===item)return i;return-1},moduleRecords={},modules={};return function(mains,declare){var System,System={register:register,get:load,set:function(name,module){modules[name]=module},newModule:function(module){return module},global:global};System.set("@empty",{}),declare(System);for(var i=0;i<mains.length;i++)load(mains[i])}}("undefined"!=typeof window?window:global)(["d2"],function(System){System.register("npm:core-js@0.9.6/library/modules/$.fw",[],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=function($){return $.FW=!1,$.path=$.core,$},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.uid",["npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){function uid(key){return"Symbol("+key+")_"+(++sid+Math.random()).toString(36)}var global=System.global,__define=global.define;global.define=void 0;var sid=0;return uid.safe=require("npm:core-js@0.9.6/library/modules/$").g.Symbol||uid,module.exports=uid,global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.string-at",["npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$");return module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String($.assertDefined(that)),i=$.toInteger(pos),l=s.length;return 0>i||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),55296>a||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.assert",["npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){function assert(condition,msg1,msg2){if(!condition)throw TypeError(msg2?msg1+msg2:msg1)}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$");return assert.def=$.assertDefined,assert.fn=function(it){if(!$.isFunction(it))throw TypeError(it+" is not a function!");return it},assert.obj=function(it){if(!$.isObject(it))throw TypeError(it+" is not an object!");return it},assert.inst=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError(name+": use the 'new' operator!");return it},module.exports=assert,global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.def",["npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){function ctx(fn,that){return function(){return fn.apply(that,arguments)}}function $def(type,name,source){var key,own,out,exp,isGlobal=type&$def.G,target=isGlobal?global:type&$def.S?global[name]:(global[name]||{}).prototype,exports=isGlobal?core:core[name]||(core[name]={});isGlobal&&(source=name);for(key in source)own=!(type&$def.F)&&target&&key in target,own&&key in exports||(out=own?target[key]:source[key],isGlobal&&!isFunction(target[key])?exp=source[key]:type&$def.B&&own?exp=ctx(out,global):type&$def.W&&target[key]==out?!function(C){exp=function(param){return this instanceof C?new C(param):C(param)},exp.prototype=C.prototype}(out):exp=type&$def.P&&isFunction(out)?ctx(Function.call,out):out,$.hide(exports,key,exp))}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),global=$.g,core=$.core,isFunction=$.isFunction;return $def.F=1,$def.G=2,$def.S=4,$def.P=8,$def.B=16,$def.W=32,module.exports=$def,global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.unscope",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),UNSCOPABLES=require("npm:core-js@0.9.6/library/modules/$.wks")("unscopables");return!$.FW||UNSCOPABLES in[]||$.hide(Array.prototype,UNSCOPABLES,{}),module.exports=function(key){$.FW&&([][UNSCOPABLES][key]=!0)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.ctx",["npm:core-js@0.9.6/library/modules/$.assert"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var assertFunction=require("npm:core-js@0.9.6/library/modules/$.assert").fn;return module.exports=function(fn,that,length){if(assertFunction(fn),~length&&void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.iter-call",["npm:core-js@0.9.6/library/modules/$.assert"],!0,function(require,exports,module){function close(iterator){var ret=iterator["return"];void 0!==ret&&assertObject(ret.call(iterator))}function call(iterator,fn,value,entries){try{return entries?fn(assertObject(value)[0],value[1]):fn(value)}catch(e){throw close(iterator),e}}var global=System.global,__define=global.define;global.define=void 0;var assertObject=require("npm:core-js@0.9.6/library/modules/$.assert").obj;return call.close=close,module.exports=call,global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.set-proto",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.assert","npm:core-js@0.9.6/library/modules/$.ctx"],!0,function(require,exports,module){function check(O,proto){assert.obj(O),assert(null===proto||$.isObject(proto),proto,": can't set as prototype!")}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),assert=require("npm:core-js@0.9.6/library/modules/$.assert");return module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(buggy,set){try{set=require("npm:core-js@0.9.6/library/modules/$.ctx")(Function.call,$.getDesc(Object.prototype,"__proto__").set,2),set({},[])}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}():void 0),check:check},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.species",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),SPECIES=require("npm:core-js@0.9.6/library/modules/$.wks")("species");return module.exports=function(C){!$.DESC||SPECIES in C||$.setDesc(C,SPECIES,{configurable:!0,get:$.that})},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.invoke",[],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3]);case 5:return un?fn(args[0],args[1],args[2],args[3],args[4]):fn.call(that,args[0],args[1],args[2],args[3],args[4])}return fn.apply(that,args)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.dom-create",["npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),document=$.g.document,isObject=$.isObject,is=isObject(document)&&isObject(document.createElement);return module.exports=function(it){return is?document.createElement(it):{}},global.define=__define,module.exports}),System.register("npm:process@0.10.1/browser",[],!0,function(require,exports,module){function drainQueue(){if(!draining){draining=!0;for(var currentQueue,len=queue.length;len;){currentQueue=queue,queue=[];for(var i=-1;++i<len;)currentQueue[i]();len=queue.length}draining=!1}}function noop(){}var global=System.global,__define=global.define;global.define=void 0;var process=module.exports={},queue=[],draining=!1;return process.nextTick=function(fun){queue.push(fun),draining||setTimeout(drainQueue,0)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.iter-detect",["npm:core-js@0.9.6/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var SYMBOL_ITERATOR=require("npm:core-js@0.9.6/library/modules/$.wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][SYMBOL_ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}return module.exports=function(exec){if(!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[SYMBOL_ITERATOR]();iter.next=function(){safe=!0},arr[SYMBOL_ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/object/define-property",["npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$");return module.exports=function(it,key,desc){return $.setDesc(it,key,desc)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/es6.number.statics",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.def"],!0,function(require,exports,module){function isInteger(it){return!$.isObject(it)&&_isFinite(it)&&floor(it)===it}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),$def=require("npm:core-js@0.9.6/library/modules/$.def"),abs=Math.abs,floor=Math.floor,_isFinite=$.g.isFinite,MAX_SAFE_INTEGER=9007199254740991;return $def($def.S,"Number",{EPSILON:Math.pow(2,-52),isFinite:function(it){return"number"==typeof it&&_isFinite(it)},isInteger:isInteger,isNaN:function(number){return number!=number},isSafeInteger:function(number){return isInteger(number)&&abs(number)<=MAX_SAFE_INTEGER},MAX_SAFE_INTEGER:MAX_SAFE_INTEGER,MIN_SAFE_INTEGER:-MAX_SAFE_INTEGER,parseFloat:parseFloat,parseInt:parseInt}),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/helpers/create-class",["npm:babel-runtime@5.2.16/core-js/object/define-property"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var _Object$defineProperty=require("npm:babel-runtime@5.2.16/core-js/object/define-property")["default"];return exports["default"]=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),_Object$defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),exports.__esModule=!0,global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/helpers/class-call-check",[],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,exports["default"]=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},exports.__esModule=!0,global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/es6.object.statics-accept-primitives",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.def"],!0,function(require,exports,module){function wrapObjectMethod(METHOD,MODE){var fn=($.core.Object||{})[METHOD]||Object[METHOD],f=0,o={};o[METHOD]=1==MODE?function(it){return isObject(it)?fn(it):it}:2==MODE?function(it){return isObject(it)?fn(it):!0}:3==MODE?function(it){return isObject(it)?fn(it):!1}:4==MODE?function(it,key){return fn(toObject(it),key)}:5==MODE?function(it){return fn(Object($.assertDefined(it)))}:function(it){return fn(toObject(it))};try{fn("z")}catch(e){f=1}$def($def.S+$def.F*f,"Object",o)}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),$def=require("npm:core-js@0.9.6/library/modules/$.def"),isObject=$.isObject,toObject=$.toObject;return wrapObjectMethod("freeze",1),wrapObjectMethod("seal",1),wrapObjectMethod("preventExtensions",1),wrapObjectMethod("isFrozen",2),wrapObjectMethod("isSealed",2),wrapObjectMethod("isExtensible",3),wrapObjectMethod("getOwnPropertyDescriptor",4),wrapObjectMethod("getPrototypeOf",5),wrapObjectMethod("keys"),wrapObjectMethod("getOwnPropertyNames"),global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/object/define-properties",["npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$");return module.exports=function(T,D){return $.setDescs(T,D)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/object/create",["npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$");return module.exports=function(P,D){return $.create(P,D)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/object/get-own-property-descriptor",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/es6.object.statics-accept-primitives"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$");return require("npm:core-js@0.9.6/library/modules/es6.object.statics-accept-primitives"),module.exports=function(it,key){return $.getDesc(it,key)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/object/freeze",["npm:core-js@0.9.6/library/modules/es6.object.statics-accept-primitives","npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.6/library/modules/es6.object.statics-accept-primitives"),module.exports=require("npm:core-js@0.9.6/library/modules/$").core.Object.freeze,global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/es6.array.from",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.ctx","npm:core-js@0.9.6/library/modules/$.def","npm:core-js@0.9.6/library/modules/$.iter","npm:core-js@0.9.6/library/modules/$.iter-call","npm:core-js@0.9.6/library/modules/$.iter-detect"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),ctx=require("npm:core-js@0.9.6/library/modules/$.ctx"),$def=require("npm:core-js@0.9.6/library/modules/$.def"),$iter=require("npm:core-js@0.9.6/library/modules/$.iter"),call=require("npm:core-js@0.9.6/library/modules/$.iter-call");return $def($def.S+$def.F*!require("npm:core-js@0.9.6/library/modules/$.iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=Object($.assertDefined(arrayLike)),mapfn=arguments[1],mapping=void 0!==mapfn,f=mapping?ctx(mapfn,arguments[2],2):void 0,index=0;if($iter.is(O))for(iterator=$iter.get(O),result=new("function"==typeof this?this:Array);!(step=iterator.next()).done;index++)result[index]=mapping?call(iterator,f,[step.value,index],!0):step.value;else for(result=new("function"==typeof this?this:Array)(length=$.toLength(O.length));length>index;index++)result[index]=mapping?f(O[index],index):O[index];return result.length=index,result}}),global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.collection-strong",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.ctx","npm:core-js@0.9.6/library/modules/$.uid","npm:core-js@0.9.6/library/modules/$.assert","npm:core-js@0.9.6/library/modules/$.for-of","npm:core-js@0.9.6/library/modules/$.iter","npm:core-js@0.9.6/library/modules/$.iter-define"],!0,function(require,exports,module){function fastKey(it,create){if(!isObject(it))return("string"==typeof it?"S":"P")+it;if(isFrozen(it))return"F";if(!has(it,ID)){if(!create)return"E";hide(it,ID,++id)}return"O"+it[ID]}function getEntry(that,key){var entry,index=fastKey(key);if("F"!=index)return that[O1][index];for(entry=that[FIRST];entry;entry=entry.n)if(entry.k==key)return entry}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),ctx=require("npm:core-js@0.9.6/library/modules/$.ctx"),safe=require("npm:core-js@0.9.6/library/modules/$.uid").safe,assert=require("npm:core-js@0.9.6/library/modules/$.assert"),forOf=require("npm:core-js@0.9.6/library/modules/$.for-of"),step=require("npm:core-js@0.9.6/library/modules/$.iter").step,has=$.has,set=$.set,isObject=$.isObject,hide=$.hide,isFrozen=Object.isFrozen||$.core.Object.isFrozen,ID=safe("id"),O1=safe("O1"),LAST=safe("last"),FIRST=safe("first"),ITER=safe("iter"),SIZE=$.DESC?safe("size"):"size",id=0;return module.exports={getConstructor:function(NAME,IS_MAP,ADDER){function C(){var that=assert.inst(this,C,NAME),iterable=arguments[0];set(that,O1,$.create(null)),set(that,SIZE,0),set(that,LAST,void 0),set(that,FIRST,void 0),void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)}return $.mix(C.prototype,{clear:function(){for(var that=this,data=that[O1],entry=that[FIRST];entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=void 0),delete data[entry.i];that[FIRST]=that[LAST]=void 0,that[SIZE]=0},"delete":function(key){var that=this,entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that[O1][entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that[FIRST]==entry&&(that[FIRST]=next),that[LAST]==entry&&(that[LAST]=prev),that[SIZE]--}return!!entry},forEach:function(callbackfn){for(var entry,f=ctx(callbackfn,arguments[1],3);entry=entry?entry.n:this[FIRST];)for(f(entry.v,entry.k,this);entry&&entry.r;)entry=entry.p},has:function(key){return!!getEntry(this,key)}}),$.DESC&&$.setDesc(C.prototype,"size",{get:function(){return assert.def(this[SIZE])}}),C},def:function(that,key,value){var prev,index,entry=getEntry(that,key);return entry?entry.v=value:(that[LAST]=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that[LAST],n:void 0,r:!1},that[FIRST]||(that[FIRST]=entry),prev&&(prev.n=entry),that[SIZE]++,"F"!=index&&(that[O1][index]=entry)),that},getEntry:getEntry,setIter:function(C,NAME,IS_MAP){require("npm:core-js@0.9.6/library/modules/$.iter-define")(C,NAME,function(iterated,kind){set(this,ITER,{o:iterated,k:kind})},function(){for(var iter=this[ITER],kind=iter.k,entry=iter.l;entry&&entry.r;)entry=entry.p;return iter.o&&(iter.l=entry=entry?entry.n:iter.o[FIRST])?"keys"==kind?step(0,entry.k):"values"==kind?step(0,entry.v):step(0,[entry.k,entry.v]):(iter.o=void 0,step(1))},IS_MAP?"entries":"values",!IS_MAP,!0)}},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.collection",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.def","npm:core-js@0.9.6/library/modules/$.iter","npm:core-js@0.9.6/library/modules/$.for-of","npm:core-js@0.9.6/library/modules/$.species","npm:core-js@0.9.6/library/modules/$.assert","npm:core-js@0.9.6/library/modules/$.iter-detect","npm:core-js@0.9.6/library/modules/$.cof"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),$def=require("npm:core-js@0.9.6/library/modules/$.def"),BUGGY=require("npm:core-js@0.9.6/library/modules/$.iter").BUGGY,forOf=require("npm:core-js@0.9.6/library/modules/$.for-of"),species=require("npm:core-js@0.9.6/library/modules/$.species"),assertInstance=require("npm:core-js@0.9.6/library/modules/$.assert").inst;return module.exports=function(NAME,methods,common,IS_MAP,IS_WEAK){function fixMethod(KEY,CHAIN){var method=proto[KEY];$.FW&&(proto[KEY]=function(a,b){var result=method.call(this,0===a?0:a,b);return CHAIN?this:result})}var Base=$.g[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={};if($.isFunction(C)&&(IS_WEAK||!BUGGY&&proto.forEach&&proto.entries)){var buggyZero,inst=new C,chain=inst[ADDER](IS_WEAK?{}:-0,1);require("npm:core-js@0.9.6/library/modules/$.iter-detect")(function(iter){new C(iter)})||(C=function(){assertInstance(this,C,NAME);var that=new Base,iterable=arguments[0];return void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that),that},C.prototype=proto,$.FW&&(proto.constructor=C)),IS_WEAK||inst.forEach(function(val,key){buggyZero=1/key===-(1/0)}),buggyZero&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(buggyZero||chain!==inst)&&fixMethod(ADDER,!0)}else C=common.getConstructor(NAME,IS_MAP,ADDER),$.mix(C.prototype,methods);return require("npm:core-js@0.9.6/library/modules/$.cof").set(C,NAME),O[NAME]=C,$def($def.G+$def.W+$def.F*(C!=Base),O),species(C),species($.core[NAME]),IS_WEAK||common.setIter(C,NAME,IS_MAP),C},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.collection-to-json",["npm:core-js@0.9.6/library/modules/$.def","npm:core-js@0.9.6/library/modules/$.for-of"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $def=require("npm:core-js@0.9.6/library/modules/$.def"),forOf=require("npm:core-js@0.9.6/library/modules/$.for-of");return module.exports=function(NAME){$def($def.P,NAME,{toJSON:function(){var arr=[];return forOf(this,!1,arr.push,arr),arr}})},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/symbol/iterator",["npm:core-js@0.9.6/library/modules/es6.string.iterator","npm:core-js@0.9.6/library/modules/web.dom.iterable","npm:core-js@0.9.6/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.6/library/modules/es6.string.iterator"),require("npm:core-js@0.9.6/library/modules/web.dom.iterable"),module.exports=require("npm:core-js@0.9.6/library/modules/$.wks")("iterator"),global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$",["npm:core-js@0.9.6/library/modules/$.fw"],!0,function(require,exports,module){function toInteger(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}function desc(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}function simpleSet(object,key,value){return object[key]=value,object}function createDefiner(bitmap){return DESC?function(object,key,value){return $.setDesc(object,key,desc(bitmap,value))}:simpleSet}function isObject(it){return null!==it&&("object"==typeof it||"function"==typeof it)}function isFunction(it){return"function"==typeof it}function assertDefined(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}var global=System.global,__define=global.define;global.define=void 0;var global="undefined"!=typeof self?self:Function("return this")(),core={},defineProperty=Object.defineProperty,hasOwnProperty={}.hasOwnProperty,ceil=Math.ceil,floor=Math.floor,max=Math.max,min=Math.min,DESC=!!function(){try{return 2==defineProperty({},"a",{get:function(){return 2}}).a}catch(e){}}(),hide=createDefiner(1),$=module.exports=require("npm:core-js@0.9.6/library/modules/$.fw")({g:global,core:core,html:global.document&&document.documentElement,isObject:isObject,isFunction:isFunction,it:function(it){return it},that:function(){return this},toInteger:toInteger,toLength:function(it){return it>0?min(toInteger(it),9007199254740991):0},toIndex:function(index,length){return index=toInteger(index),0>index?max(index+length,0):min(index,length)},has:function(it,key){return hasOwnProperty.call(it,key)},create:Object.create,getProto:Object.getPrototypeOf,DESC:DESC,desc:desc,getDesc:Object.getOwnPropertyDescriptor,setDesc:defineProperty,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:assertDefined,ES5Object:Object,toObject:function(it){return $.ES5Object(assertDefined(it))},hide:hide,def:createDefiner(0),set:global.Symbol?simpleSet:hide,mix:function(target,src){for(var key in src)hide(target,key,src[key]);return target},each:[].forEach});return"undefined"!=typeof __e&&(__e=core),"undefined"!=typeof __g&&(__g=global),global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.wks",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.uid"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var global=require("npm:core-js@0.9.6/library/modules/$").g,store={};return module.exports=function(name){return store[name]||(store[name]=global.Symbol&&global.Symbol[name]||require("npm:core-js@0.9.6/library/modules/$.uid").safe("Symbol."+name))},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.iter",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.cof","npm:core-js@0.9.6/library/modules/$.assert","npm:core-js@0.9.6/library/modules/$.wks"],!0,function(require,exports,module){function setIterator(O,value){$.hide(O,SYMBOL_ITERATOR,value),FF_ITERATOR in[]&&$.hide(O,FF_ITERATOR,value)}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),cof=require("npm:core-js@0.9.6/library/modules/$.cof"),assertObject=require("npm:core-js@0.9.6/library/modules/$.assert").obj,SYMBOL_ITERATOR=require("npm:core-js@0.9.6/library/modules/$.wks")("iterator"),FF_ITERATOR="@@iterator",Iterators={},IteratorPrototype={};
return setIterator(IteratorPrototype,$.that),module.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:Iterators,step:function(done,value){return{value:value,done:!!done}},is:function(it){var O=Object(it),Symbol=$.g.Symbol,SYM=Symbol&&Symbol.iterator||FF_ITERATOR;return SYM in O||SYMBOL_ITERATOR in O||$.has(Iterators,cof.classof(O))},get:function(it){var Symbol=$.g.Symbol,ext=it[Symbol&&Symbol.iterator||FF_ITERATOR],getIter=ext||it[SYMBOL_ITERATOR]||Iterators[cof.classof(it)];return assertObject(getIter.call(it))},set:setIterator,create:function(Constructor,NAME,next,proto){Constructor.prototype=$.create(proto||IteratorPrototype,{next:$.desc(1,next)}),cof.set(Constructor,NAME+" Iterator")}},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.iter-define",["npm:core-js@0.9.6/library/modules/$.def","npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.cof","npm:core-js@0.9.6/library/modules/$.iter","npm:core-js@0.9.6/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $def=require("npm:core-js@0.9.6/library/modules/$.def"),$=require("npm:core-js@0.9.6/library/modules/$"),cof=require("npm:core-js@0.9.6/library/modules/$.cof"),$iter=require("npm:core-js@0.9.6/library/modules/$.iter"),SYMBOL_ITERATOR=require("npm:core-js@0.9.6/library/modules/$.wks")("iterator"),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",Iterators=$iter.Iterators;return module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCE){function createMethod(kind){function $$(that){return new Constructor(that,kind)}switch(kind){case KEYS:return function(){return $$(this)};case VALUES:return function(){return $$(this)}}return function(){return $$(this)}}$iter.create(Constructor,NAME,next);var methods,key,TAG=NAME+" Iterator",proto=Base.prototype,_native=proto[SYMBOL_ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],_default=_native||createMethod(DEFAULT);if(_native){var IteratorPrototype=$.getProto(_default.call(new Base));cof.set(IteratorPrototype,TAG,!0),$.FW&&$.has(proto,FF_ITERATOR)&&$iter.set(IteratorPrototype,$.that)}if($.FW&&$iter.set(proto,_default),Iterators[NAME]=_default,Iterators[TAG]=$.that,DEFAULT)if(methods={keys:IS_SET?_default:createMethod(KEYS),values:DEFAULT==VALUES?_default:createMethod(VALUES),entries:DEFAULT!=VALUES?_default:createMethod("entries")},FORCE)for(key in methods)key in proto||$.hide(proto,key,methods[key]);else $def($def.P+$def.F*$iter.BUGGY,NAME,methods)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/es6.array.iterator",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.unscope","npm:core-js@0.9.6/library/modules/$.uid","npm:core-js@0.9.6/library/modules/$.iter","npm:core-js@0.9.6/library/modules/$.iter-define"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),setUnscope=require("npm:core-js@0.9.6/library/modules/$.unscope"),ITER=require("npm:core-js@0.9.6/library/modules/$.uid").safe("iter"),$iter=require("npm:core-js@0.9.6/library/modules/$.iter"),step=$iter.step,Iterators=$iter.Iterators;return require("npm:core-js@0.9.6/library/modules/$.iter-define")(Array,"Array",function(iterated,kind){$.set(this,ITER,{o:$.toObject(iterated),i:0,k:kind})},function(){var iter=this[ITER],O=iter.o,kind=iter.k,index=iter.i++;return!O||index>=O.length?(iter.o=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,setUnscope("keys"),setUnscope("values"),setUnscope("entries"),global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.for-of",["npm:core-js@0.9.6/library/modules/$.ctx","npm:core-js@0.9.6/library/modules/$.iter","npm:core-js@0.9.6/library/modules/$.iter-call"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ctx=require("npm:core-js@0.9.6/library/modules/$.ctx"),get=require("npm:core-js@0.9.6/library/modules/$.iter").get,call=require("npm:core-js@0.9.6/library/modules/$.iter-call");return module.exports=function(iterable,entries,fn,that){for(var step,iterator=get(iterable),f=ctx(fn,that,entries?2:1);!(step=iterator.next()).done;)if(call(iterator,f,step.value,entries)===!1)return call.close(iterator)},global.define=__define,module.exports}),System.register("npm:process@0.10.1",["npm:process@0.10.1/browser"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:process@0.10.1/browser"),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/object/define-property",["npm:core-js@0.9.6/library/fn/object/define-property"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/object/define-property"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/number/is-integer",["npm:core-js@0.9.6/library/modules/es6.number.statics","npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.6/library/modules/es6.number.statics"),module.exports=require("npm:core-js@0.9.6/library/modules/$").core.Number.isFinite,global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/object/keys",["npm:core-js@0.9.6/library/modules/es6.object.statics-accept-primitives","npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.6/library/modules/es6.object.statics-accept-primitives"),module.exports=require("npm:core-js@0.9.6/library/modules/$").core.Object.keys,global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/object/define-properties",["npm:core-js@0.9.6/library/fn/object/define-properties"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/object/define-properties"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/object/create",["npm:core-js@0.9.6/library/fn/object/create"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/object/create"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/object/get-own-property-descriptor",["npm:core-js@0.9.6/library/fn/object/get-own-property-descriptor"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/object/get-own-property-descriptor"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/object/freeze",["npm:core-js@0.9.6/library/fn/object/freeze"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/object/freeze"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/array/from",["npm:core-js@0.9.6/library/modules/es6.string.iterator","npm:core-js@0.9.6/library/modules/es6.array.from","npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.6/library/modules/es6.string.iterator"),require("npm:core-js@0.9.6/library/modules/es6.array.from"),module.exports=require("npm:core-js@0.9.6/library/modules/$").core.Array.from,global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/es6.map",["npm:core-js@0.9.6/library/modules/$.collection-strong","npm:core-js@0.9.6/library/modules/$.collection"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var strong=require("npm:core-js@0.9.6/library/modules/$.collection-strong");return require("npm:core-js@0.9.6/library/modules/$.collection")("Map",{get:function(key){var entry=strong.getEntry(this,key);return entry&&entry.v},set:function(key,value){return strong.def(this,0===key?0:key,value)}},strong,!0),global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/es7.map.to-json",["npm:core-js@0.9.6/library/modules/$.collection-to-json"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.6/library/modules/$.collection-to-json")("Map"),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/symbol/iterator",["npm:core-js@0.9.6/library/fn/symbol/iterator"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/symbol/iterator"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.cof",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.wks"],!0,function(require,exports,module){function cof(it){return toString.call(it).slice(8,-1)}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),TAG=require("npm:core-js@0.9.6/library/modules/$.wks")("toStringTag"),toString={}.toString;return cof.classof=function(it){var O,T;return void 0==it?void 0===it?"Undefined":"Null":"string"==typeof(T=(O=Object(it))[TAG])?T:cof(O)},cof.set=function(it,tag,stat){it&&!$.has(it=stat?it:it.prototype,TAG)&&$.hide(it,TAG,tag)},module.exports=cof,global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/es6.string.iterator",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.string-at","npm:core-js@0.9.6/library/modules/$.uid","npm:core-js@0.9.6/library/modules/$.iter","npm:core-js@0.9.6/library/modules/$.iter-define"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var set=require("npm:core-js@0.9.6/library/modules/$").set,$at=require("npm:core-js@0.9.6/library/modules/$.string-at")(!0),ITER=require("npm:core-js@0.9.6/library/modules/$.uid").safe("iter"),$iter=require("npm:core-js@0.9.6/library/modules/$.iter"),step=$iter.step;return require("npm:core-js@0.9.6/library/modules/$.iter-define")(String,"String",function(iterated){set(this,ITER,{o:String(iterated),i:0})},function(){var point,iter=this[ITER],O=iter.o,index=iter.i;return index>=O.length?step(1):(point=$at(O,index),iter.i+=point.length,step(0,point))}),global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/web.dom.iterable",["npm:core-js@0.9.6/library/modules/es6.array.iterator","npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.iter","npm:core-js@0.9.6/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0,require("npm:core-js@0.9.6/library/modules/es6.array.iterator");var $=require("npm:core-js@0.9.6/library/modules/$"),Iterators=require("npm:core-js@0.9.6/library/modules/$.iter").Iterators,ITERATOR=require("npm:core-js@0.9.6/library/modules/$.wks")("iterator"),ArrayValues=Iterators.Array,NodeList=$.g.NodeList;return!$.FW||!NodeList||ITERATOR in NodeList.prototype||$.hide(NodeList.prototype,ITERATOR,ArrayValues),Iterators.NodeList=ArrayValues,global.define=__define,module.exports}),System.register("github:jspm/nodelibs-process@0.1.1/index",["npm:process@0.10.1"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=System._nodeRequire?process:require("npm:process@0.10.1"),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/number/is-integer",["npm:core-js@0.9.6/library/fn/number/is-integer"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/number/is-integer"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/object/keys",["npm:core-js@0.9.6/library/fn/object/keys"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/object/keys"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/helpers/inherits",["npm:babel-runtime@5.2.16/core-js/object/create"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var _Object$create=require("npm:babel-runtime@5.2.16/core-js/object/create")["default"];return exports["default"]=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=_Object$create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},exports.__esModule=!0,global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/helpers/get",["npm:babel-runtime@5.2.16/core-js/object/get-own-property-descriptor"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var _Object$getOwnPropertyDescriptor=require("npm:babel-runtime@5.2.16/core-js/object/get-own-property-descriptor")["default"];return exports["default"]=function(_x,_x2,_x3){for(var _again=!0;_again;){desc=parent=getter=void 0,_again=!1;var object=_x,property=_x2,receiver=_x3,desc=_Object$getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0}},exports.__esModule=!0,global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/array/from",["npm:core-js@0.9.6/library/fn/array/from"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/array/from"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/map",["npm:core-js@0.9.6/library/modules/es6.object.to-string","npm:core-js@0.9.6/library/modules/es6.string.iterator","npm:core-js@0.9.6/library/modules/web.dom.iterable","npm:core-js@0.9.6/library/modules/es6.map","npm:core-js@0.9.6/library/modules/es7.map.to-json","npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.6/library/modules/es6.object.to-string"),require("npm:core-js@0.9.6/library/modules/es6.string.iterator"),require("npm:core-js@0.9.6/library/modules/web.dom.iterable"),require("npm:core-js@0.9.6/library/modules/es6.map"),require("npm:core-js@0.9.6/library/modules/es7.map.to-json"),module.exports=require("npm:core-js@0.9.6/library/modules/$").core.Map,global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/es6.object.to-string",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.cof","npm:core-js@0.9.6/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.6/library/modules/$"),cof=require("npm:core-js@0.9.6/library/modules/$.cof"),tmp={};return tmp[require("npm:core-js@0.9.6/library/modules/$.wks")("toStringTag")]="z",$.FW&&"z"!=cof(tmp)&&$.hide(Object.prototype,"toString",function(){return"[object "+cof.classof(this)+"]"}),global.define=__define,module.exports}),System.register("github:jspm/nodelibs-process@0.1.1",["github:jspm/nodelibs-process@0.1.1/index"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("github:jspm/nodelibs-process@0.1.1/index"),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/helpers/to-consumable-array",["npm:babel-runtime@5.2.16/core-js/array/from"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var _Array$from=require("npm:babel-runtime@5.2.16/core-js/array/from")["default"];return exports["default"]=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return _Array$from(arr)},exports.__esModule=!0,global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/map",["npm:core-js@0.9.6/library/fn/map"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/map"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/$.task",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.ctx","npm:core-js@0.9.6/library/modules/$.cof","npm:core-js@0.9.6/library/modules/$.invoke","npm:core-js@0.9.6/library/modules/$.dom-create","github:jspm/nodelibs-process@0.1.1"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function run(){var id=+this;if($.has(queue,id)){var fn=queue[id];delete queue[id],fn()}}function listner(event){run.call(event.data)}var defer,channel,port,$=require("npm:core-js@0.9.6/library/modules/$"),ctx=require("npm:core-js@0.9.6/library/modules/$.ctx"),cof=require("npm:core-js@0.9.6/library/modules/$.cof"),invoke=require("npm:core-js@0.9.6/library/modules/$.invoke"),cel=require("npm:core-js@0.9.6/library/modules/$.dom-create"),global=$.g,isFunction=$.isFunction,html=$.html,process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,postMessage=global.postMessage,addEventListener=global.addEventListener,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange";isFunction(setTask)&&isFunction(clearTask)||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke(isFunction(fn)?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==cof(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:addEventListener&&isFunction(postMessage)&&!global.importScripts?(defer=function(id){postMessage(id,"*")},addEventListener("message",listner,!1)):isFunction(MessageChannel)?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listner,defer=ctx(port.postMessage,port,1)):defer=ONREADYSTATECHANGE in cel("script")?function(id){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}}(require("github:jspm/nodelibs-process@0.1.1")),global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/modules/es6.promise",["npm:core-js@0.9.6/library/modules/$","npm:core-js@0.9.6/library/modules/$.ctx","npm:core-js@0.9.6/library/modules/$.cof","npm:core-js@0.9.6/library/modules/$.def","npm:core-js@0.9.6/library/modules/$.assert","npm:core-js@0.9.6/library/modules/$.for-of","npm:core-js@0.9.6/library/modules/$.set-proto","npm:core-js@0.9.6/library/modules/$.species","npm:core-js@0.9.6/library/modules/$.wks","npm:core-js@0.9.6/library/modules/$.uid","npm:core-js@0.9.6/library/modules/$.task","npm:core-js@0.9.6/library/modules/$.iter-detect","github:jspm/nodelibs-process@0.1.1"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getConstructor(C){var S=assertObject(C)[SPECIES];return void 0!=S?S:C}function isThenable(it){var then;return isObject(it)&&(then=it.then),isFunction(then)?then:!1}function notify(record){var chain=record.c;chain.length&&asap(function(){function run(react){var ret,then,cb=ok?react.ok:react.fail;try{cb?(ok||(record.h=!0),ret=cb===!0?value:cb(value),ret===react.P?react.rej(TypeError("Promise-chain cycle")):(then=isThenable(ret))?then.call(ret,react.res,react.rej):react.res(ret)):react.rej(value)}catch(err){react.rej(err)}}for(var value=record.v,ok=1==record.s,i=0;chain.length>i;)run(chain[i++]);chain.length=0})}function isUnhandled(promise){var react,record=promise[RECORD],chain=record.a||record.c,i=0;if(record.h)return!1;for(;chain.length>i;)if(react=chain[i++],react.fail||!isUnhandled(react.P))return!1;return!0}function $reject(value){var promise,record=this;record.d||(record.d=!0,record=record.r||record,record.v=value,record.s=2,record.a=record.c.slice(),setTimeout(function(){asap(function(){isUnhandled(promise=record.p)&&("process"==cof(process)?process.emit("unhandledRejection",value,promise):global.console&&isFunction(console.error)&&console.error("Unhandled promise rejection",value)),record.a=void 0})},1),notify(record))}function $resolve(value){var then,wrapper,record=this;if(!record.d){record.d=!0,record=record.r||record;try{(then=isThenable(value))?(wrapper={r:record,d:!1},then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))):(record.v=value,record.s=1,notify(record))}catch(err){$reject.call(wrapper||{r:record,d:!1},err)}}}var $=require("npm:core-js@0.9.6/library/modules/$"),ctx=require("npm:core-js@0.9.6/library/modules/$.ctx"),cof=require("npm:core-js@0.9.6/library/modules/$.cof"),$def=require("npm:core-js@0.9.6/library/modules/$.def"),assert=require("npm:core-js@0.9.6/library/modules/$.assert"),forOf=require("npm:core-js@0.9.6/library/modules/$.for-of"),setProto=require("npm:core-js@0.9.6/library/modules/$.set-proto").set,species=require("npm:core-js@0.9.6/library/modules/$.species"),SPECIES=require("npm:core-js@0.9.6/library/modules/$.wks")("species"),RECORD=require("npm:core-js@0.9.6/library/modules/$.uid").safe("record"),PROMISE="Promise",global=$.g,process=global.process,asap=process&&process.nextTick||require("npm:core-js@0.9.6/library/modules/$.task").set,P=global[PROMISE],isFunction=$.isFunction,isObject=$.isObject,assertFunction=assert.fn,assertObject=assert.obj,useNative=function(){function P2(x){var self=new P(x);return setProto(self,P2.prototype),self}var test,works=!1;try{works=isFunction(P)&&isFunction(P.resolve)&&P.resolve(test=new P(function(){}))==test,setProto(P2,P),P2.prototype=$.create(P.prototype,{constructor:{value:P2}}),P2.resolve(5).then(function(){})instanceof P2||(works=!1)}catch(e){works=!1}return works}();useNative||(P=function(executor){assertFunction(executor);var record={p:assert.inst(this,P,PROMISE),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1};$.hide(this,RECORD,record);try{executor(ctx($resolve,record,1),ctx($reject,record,1))}catch(err){$reject.call(record,err)}},$.mix(P.prototype,{then:function(onFulfilled,onRejected){var S=assertObject(assertObject(this).constructor)[SPECIES],react={ok:isFunction(onFulfilled)?onFulfilled:!0,fail:isFunction(onRejected)?onRejected:!1},promise=react.P=new(void 0!=S?S:P)(function(res,rej){react.res=assertFunction(res),react.rej=assertFunction(rej)}),record=this[RECORD];return record.c.push(react),record.a&&record.a.push(react),record.s&&notify(record),promise},"catch":function(onRejected){return this.then(void 0,onRejected)}})),$def($def.G+$def.W+$def.F*!useNative,{Promise:P}),cof.set(P,PROMISE),species(P),species($.core[PROMISE]),$def($def.S+$def.F*!useNative,PROMISE,{reject:function(r){return new(getConstructor(this))(function(res,rej){rej(r)})},resolve:function(x){return isObject(x)&&RECORD in x&&$.getProto(x)===this.prototype?x:new(getConstructor(this))(function(res){res(x)})}}),$def($def.S+$def.F*!(useNative&&require("npm:core-js@0.9.6/library/modules/$.iter-detect")(function(iter){P.all(iter)["catch"](function(){})})),PROMISE,{all:function(iterable){var C=getConstructor(this),values=[];return new C(function(res,rej){forOf(iterable,!1,values.push,values);var remaining=values.length,results=Array(remaining);remaining?$.each.call(values,function(promise,index){C.resolve(promise).then(function(value){results[index]=value,--remaining||res(results)},rej)}):res(results)})},race:function(iterable){var C=getConstructor(this);return new C(function(res,rej){forOf(iterable,!1,function(promise){C.resolve(promise).then(res,rej)})})}})}(require("github:jspm/nodelibs-process@0.1.1")),global.define=__define,module.exports}),System.register("npm:core-js@0.9.6/library/fn/promise",["npm:core-js@0.9.6/library/modules/es6.object.to-string","npm:core-js@0.9.6/library/modules/es6.string.iterator","npm:core-js@0.9.6/library/modules/web.dom.iterable","npm:core-js@0.9.6/library/modules/es6.promise","npm:core-js@0.9.6/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.6/library/modules/es6.object.to-string"),require("npm:core-js@0.9.6/library/modules/es6.string.iterator"),require("npm:core-js@0.9.6/library/modules/web.dom.iterable"),require("npm:core-js@0.9.6/library/modules/es6.promise"),module.exports=require("npm:core-js@0.9.6/library/modules/$").core.Promise,global.define=__define,module.exports}),System.register("npm:babel-runtime@5.2.16/core-js/promise",["npm:core-js@0.9.6/library/fn/promise"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.6/library/fn/promise"),__esModule:!0},global.define=__define,module.exports}),System.register("d2/external/jquery",[],function(_export){return{setters:[],execute:function(){"use strict";_export("default",window.jQuery)}}}),System.register("d2/pager/Pager",["npm:babel-runtime@5.2.16/helpers/create-class","npm:babel-runtime@5.2.16/helpers/class-call-check","npm:babel-runtime@5.2.16/core-js/promise","d2/lib/check"],function(_export){var _createClass,_classCallCheck,_Promise,isDefined,Pager;return{setters:[function(_npmBabelRuntime5216HelpersCreateClass){_createClass=_npmBabelRuntime5216HelpersCreateClass["default"]},function(_npmBabelRuntime5216HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5216HelpersClassCallCheck["default"]},function(_npmBabelRuntime5216CoreJsPromise){_Promise=_npmBabelRuntime5216CoreJsPromise["default"]},function(_d2LibCheck){isDefined=_d2LibCheck.isDefined}],execute:function(){"use strict";Pager=function(){function Pager(){var pager=void 0===arguments[0]?{page:1,pageCount:1}:arguments[0],pagingHandler=void 0===arguments[1]?{list:function(){return _Promise.reject("No handler available")}}:arguments[1];_classCallCheck(this,Pager),this.page=pager.page,this.pageCount=pager.pageCount,this.total=pager.total,this.nextPage=pager.nextPage,this.prevPage=pager.prevPage,this.pagingHandler=pagingHandler}return _createClass(Pager,[{key:"hasNextPage",value:function(){return isDefined(this.nextPage)}},{key:"hasPreviousPage",value:function(){return isDefined(this.prevPage)}},{key:"getNextPage",value:function(){return this.hasNextPage()?this.goToPage(this.page+1):_Promise.reject("There is no next page for this collection")}},{key:"getPreviousPage",value:function(){return this.hasPreviousPage()?this.goToPage(this.page-1):_Promise.reject("There is no previous page for this collection")}},{key:"goToPage",value:function(pageNr){if(1>pageNr)throw new Error("PageNr can not be less than 1");if(pageNr>this.pageCount)throw new Error("PageNr can not be larger than the total page count of "+this.pageCount);return this.pagingHandler.list({page:pageNr})}}]),Pager}(),_export("default",Pager)}}}),System.register("d2/lib/SchemaTypes",["npm:babel-runtime@5.2.16/helpers/create-class","npm:babel-runtime@5.2.16/helpers/class-call-check","d2/lib/utils","d2/lib/check"],function(_export){var _createClass,_classCallCheck,throwError,isString,SchemaTypes;return{setters:[function(_npmBabelRuntime5216HelpersCreateClass){_createClass=_npmBabelRuntime5216HelpersCreateClass["default"]},function(_npmBabelRuntime5216HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5216HelpersClassCallCheck["default"]},function(_d2LibUtils){throwError=_d2LibUtils.throwError},function(_d2LibCheck){isString=_d2LibCheck.isString}],execute:function(){"use strict";SchemaTypes=function(){function SchemaTypes(){_classCallCheck(this,SchemaTypes)}return _createClass(SchemaTypes,[{key:"getTypes",value:function(){return["TEXT","NUMBER","INTEGER","BOOLEAN","EMAIL","PASSWORD","URL","PHONENUMBER","GEOLOCATION","COLOR","COMPLEX","COLLECTION","REFERENCE","DATE","COMPLEX","IDENTIFIER","CONSTANT"]}},{key:"typeLookup",value:function(propertyType){return this.getTypes().indexOf(propertyType)>=0&&isString(propertyType)?propertyType:void throwError(['Type from schema "',propertyType,'" not found available type list.'].join(""))}}]),SchemaTypes}(),_export("default",new SchemaTypes)}}}),System.register("d2/model/ModelDefinitions",["npm:babel-runtime@5.2.16/helpers/create-class","npm:babel-runtime@5.2.16/helpers/class-call-check","d2/lib/check"],function(_export){var _createClass,_classCallCheck,checkType,ModelDefinitions;return{setters:[function(_npmBabelRuntime5216HelpersCreateClass){_createClass=_npmBabelRuntime5216HelpersCreateClass["default"]},function(_npmBabelRuntime5216HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5216HelpersClassCallCheck["default"]},function(_d2LibCheck){checkType=_d2LibCheck.checkType}],execute:function(){"use strict";ModelDefinitions=function(){function ModelDefinitions(){_classCallCheck(this,ModelDefinitions)}return _createClass(ModelDefinitions,[{key:"add",value:function(modelDefinition){try{checkType(modelDefinition.name,"string")}catch(e){throw new Error("Name should be set on the passed ModelDefinition to add one")}if(this[modelDefinition.name])throw new Error(["Model",modelDefinition.name,"already exists"].join(" "));this[modelDefinition.name]=modelDefinition}},{key:"mapThroughDefinitions",value:function(transformer){var modelDefinition,result=[];for(modelDefinition in this)this.hasOwnProperty(modelDefinition)&&result.push(transformer(this[modelDefinition]));return result}}]),ModelDefinitions}(),_export("default",ModelDefinitions)}}}),System.register("d2/logger/Logger",["npm:babel-runtime@5.2.16/helpers/create-class","npm:babel-runtime@5.2.16/helpers/class-call-check","d2/lib/check"],function(_export){var _createClass,_classCallCheck,checkType,isType,console,Logger;return{setters:[function(_npmBabelRuntime5216HelpersCreateClass){_createClass=_npmBabelRuntime5216HelpersCreateClass["default"]},function(_npmBabelRuntime5216HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5216HelpersClassCallCheck["default"]},function(_d2LibCheck){checkType=_d2LibCheck.checkType,isType=_d2LibCheck.isType}],execute:function(){"use strict";Logger=function(){function Logger(logging){_classCallCheck(this,Logger),checkType(logging,"object","console"),console=logging}return _createClass(Logger,[{key:"canLog",
value:function(type){return!!(type&&console&&isType(console[type],"function"))}},{key:"debug",value:function(){for(var _len=arguments.length,rest=Array(_len),_key=0;_len>_key;_key++)rest[_key]=arguments[_key];return this.canLog("debug")?(console.debug.apply(console,rest),!0):!1}},{key:"error",value:function(){for(var _len2=arguments.length,rest=Array(_len2),_key2=0;_len2>_key2;_key2++)rest[_key2]=arguments[_key2];return this.canLog("error")?(console.log(arguments),console.error.apply(console,rest),!0):!1}},{key:"log",value:function(){for(var _len3=arguments.length,rest=Array(_len3),_key3=0;_len3>_key3;_key3++)rest[_key3]=arguments[_key3];return this.canLog("log")?(console.log.apply(console,rest),!0):!1}},{key:"warn",value:function(){for(var _len4=arguments.length,rest=Array(_len4),_key4=0;_len4>_key4;_key4++)rest[_key4]=arguments[_key4];return this.canLog("warn")?(console.warn.apply(console,rest),!0):!1}}]),Logger}(),Logger.getLogger=function(){var console;try{console=global.console}catch(e){console=window.console}return this.logger?this.logger:this.logger=new Logger(console)},_export("default",Logger)}}}),System.register("d2/api/Api",["npm:babel-runtime@5.2.16/helpers/create-class","npm:babel-runtime@5.2.16/helpers/class-call-check","npm:babel-runtime@5.2.16/core-js/promise","d2/lib/check","d2/lib/utils","d2/external/jquery"],function(_export){function getApi(){return getApi.api?getApi.api:getApi.api=new Api(jQuery)}function processSuccess(resolve){return function(data){resolve(data)}}function processFailure(reject){return function(jqXHR){delete jqXHR.then,reject(jqXHR)}}function getUrl(baseUrl,url){if(new RegExp("^(:?https?:)?//").test(url))return url;var urlParts=[];return baseUrl&&urlParts.push(baseUrl),urlParts.push(url),urlParts.join("/").replace(new RegExp("(.(?:[^:]))//+","g"),"$1/").replace(new RegExp("/$"),"")}var _createClass,_classCallCheck,_Promise,checkType,copyOwnProperties,jQuery,Api;return{setters:[function(_npmBabelRuntime5216HelpersCreateClass){_createClass=_npmBabelRuntime5216HelpersCreateClass["default"]},function(_npmBabelRuntime5216HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5216HelpersClassCallCheck["default"]},function(_npmBabelRuntime5216CoreJsPromise){_Promise=_npmBabelRuntime5216CoreJsPromise["default"]},function(_d2LibCheck){checkType=_d2LibCheck.checkType},function(_d2LibUtils){copyOwnProperties=_d2LibUtils.copyOwnProperties},function(_d2ExternalJquery){jQuery=_d2ExternalJquery["default"]}],execute:function(){"use strict";Api=function(){function Api(jquery){_classCallCheck(this,Api),this.jquery=jquery,this.baseUrl="/api",this.defaultRequestSettings={data:{},contentType:"application/json",dataType:"json",type:void 0,url:void 0}}return _createClass(Api,[{key:"get",value:function(url,data){return this.request("GET",getUrl(this.baseUrl,url),data)}},{key:"post",value:function(url,data){return this.request("POST",getUrl(this.baseUrl,url),JSON.stringify(data))}},{key:"remove",value:function(){}},{key:"update",value:function(url,data){return this.request("PUT",url,JSON.stringify(data))}},{key:"request",value:function(type,url,data){function getOptions(mergeOptions){var options={};return copyOwnProperties(options,api.defaultRequestSettings),copyOwnProperties(options,mergeOptions),options}checkType(type,"string","Request type"),checkType(url,"string","Url");var api=this;return new _Promise(function(resolve,reject){api.jquery.ajax(getOptions({type:type,url:url,data:data||{}})).then(processSuccess(resolve),processFailure(reject))})}},{key:"setBaseUrl",value:function(baseUrl){return checkType(baseUrl,"string","Base url"),this.baseUrl=baseUrl,this}}]),Api}(),Api.getApi=getApi,_export("default",Api)}}}),System.register("d2/lib/utils",["npm:babel-runtime@5.2.16/core-js/object/define-property"],function(_export){function throwError(message){throw new Error(message)}function curry(toCurry,parameter){return"function"==typeof toCurry?function(){var args=Array.prototype.slice.call(arguments,0);return toCurry.apply(this,[parameter].concat(args))}:void 0}function addLockedProperty(object,name,value){var propertyDescriptor={enumerable:!0,configurable:!1,writable:!1,value:value};_Object$defineProperty(object,name,propertyDescriptor)}function copyOwnProperties(to,from){var key;for(key in from)from.hasOwnProperty(key)&&(to[key]=from[key]);return to}function pick(property){return function(item){return item?item[property]:void 0}}var _Object$defineProperty;return{setters:[function(_npmBabelRuntime5216CoreJsObjectDefineProperty){_Object$defineProperty=_npmBabelRuntime5216CoreJsObjectDefineProperty["default"]}],execute:function(){"use strict";_export("throwError",throwError),_export("curry",curry),_export("addLockedProperty",addLockedProperty),_export("copyOwnProperties",copyOwnProperties),_export("pick",pick)}}}),System.register("d2/model/ModelValidation",["npm:babel-runtime@5.2.16/helpers/create-class","npm:babel-runtime@5.2.16/helpers/class-call-check","npm:babel-runtime@5.2.16/core-js/promise","d2/lib/check","d2/logger/Logger","d2/api/Api"],function(_export){function typeValidation(value,type){switch(type){case"INTEGER":return isInteger(value);case"NUMBER":return isNumeric(value);case"COLLECTION":return isArray(value);case"PHONENUMBER":case"EMAIL":case"URL":case"COLOR":case"PASSWORD":case"IDENTIFIER":case"TEXT":return isString(value);case"COMPLEX":return isObject(value);case"DATE":case"REFERENCE":case"BOOLEAN":case"CONSTANT":return!0;default:logger.log("No type validator found for",type)}return!1}function numberMinMaxValidation(value,validationSettings){var resultStatus={status:!0,messages:[]};return isNumeric(value)&&(isLargerThanMin(value,validationSettings.min)||(resultStatus.status=!1,resultStatus.messages.push({message:["Value needs to be larger than or equal to",validationSettings.min].join(" "),value:value})),isSmallerThanMax(value,validationSettings.max)||(resultStatus.status=!1,resultStatus.messages.push({message:["Value needs to be smaller than or equal to",validationSettings.max].join(" "),value:value}))),resultStatus}function minMaxValidation(result,value,validationSettings){var numberMinMaxValidationStatus=numberMinMaxValidation(value,validationSettings);numberMinMaxValidationStatus.status||(result.status=!1,result.messages=result.messages.concat(numberMinMaxValidationStatus.messages));var lengthMinMaxValidationStatus=lengthMinMaxValidation(value,validationSettings);return lengthMinMaxValidationStatus.status||(result.status=!1,result.messages=result.messages.concat(lengthMinMaxValidationStatus.messages)),result}function lengthMinMaxValidation(value,validationSettings){var resultStatus={status:!0,messages:[]};return(isArray(value)||isString(value))&&(isLargerThanLength(value,validationSettings.min)||(resultStatus.status=!1,resultStatus.messages.push({message:["Value needs to be longer than or equal to",validationSettings.min].join(" "),value:value})),isSmallerThanLength(value,validationSettings.max)||(resultStatus.status=!1,resultStatus.messages.push({message:["Value needs to be shorter than or equal to",validationSettings.max].join(" "),value:value}))),resultStatus}function isLargerThanMin(value,minValue){return isNumeric(minValue)?value>=minValue:!0}function isSmallerThanMax(value,maxValue){return isNumeric(maxValue)?maxValue>=value:!0}function isLargerThanLength(value,minValue){return isInteger(minValue)?Boolean(value&&isInteger(value.length)&&value.length>=minValue):!0}function isSmallerThanLength(value,maxValue){return isInteger(maxValue)?Boolean(value&&isInteger(value.length)&&value.length<=maxValue):!0}function typeSpecificValidation(result,value,valueType){return valueType&&isArray(typeSpecificValidations[valueType])?void(result.status=typeSpecificValidations[valueType].reduce(function(currentValidationStatus,customValidator){return customValidator.validator.apply(null,[value])||(result.messages.push({message:customValidator.message,value:value}),currentValidationStatus=!1),currentValidationStatus},!0)):result}function phoneNumber(value){return phoneNumberRegEx.test(value)}var _createClass,_classCallCheck,_Promise,checkType,isInteger,isObject,isArray,isString,isNumeric,Logger,Api,logger,typeSpecificValidations,ModelValidation,phoneNumberRegEx;return{setters:[function(_npmBabelRuntime5216HelpersCreateClass){_createClass=_npmBabelRuntime5216HelpersCreateClass["default"]},function(_npmBabelRuntime5216HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5216HelpersClassCallCheck["default"]},function(_npmBabelRuntime5216CoreJsPromise){_Promise=_npmBabelRuntime5216CoreJsPromise["default"]},function(_d2LibCheck){checkType=_d2LibCheck.checkType,isInteger=_d2LibCheck.isInteger,isObject=_d2LibCheck.isObject,isArray=_d2LibCheck.isArray,isString=_d2LibCheck.isString,isNumeric=_d2LibCheck.isNumeric},function(_d2LoggerLogger){Logger=_d2LoggerLogger["default"]},function(_d2ApiApi){Api=_d2ApiApi["default"]}],execute:function(){"use strict";logger=void 0,typeSpecificValidations={PHONENUMBER:[{message:"Phone number can only consist of numbers and + and [space]",validator:phoneNumber}]},ModelValidation=function(){function ModelValidation(providedLogger){_classCallCheck(this,ModelValidation),checkType(providedLogger,"object","logger (Logger)"),logger=providedLogger}return _createClass(ModelValidation,[{key:"validate",value:function(validationSettings,value){if(!isObject(validationSettings))throw new TypeError("validationSettings should be of type object");var result={status:!0,messages:[]};return validationSettings.required!==!1||value?(typeValidation(value,validationSettings.type)||(result.status=!1,result.messages.push({message:"This is not a valid type",value:value})),minMaxValidation(result,value,validationSettings),typeSpecificValidation(result,value,validationSettings.type),result):{status:!0,messages:[]}}},{key:"validateAgainstSchema",value:function(model){return model&&model.modelDefinition&&model.modelDefinition.name?Api.getApi().post(["schemas",model.modelDefinition.name].join("/"),model.modelDefinition.getOwnedPropertyJSON(model)):_Promise.reject("model.modelDefinition.name can not be found")}}],[{key:"getModelValidation",value:function(){return this.modelValidation?this.modelValidation:this.modelValidation=new ModelValidation(Logger.getLogger(console))}}]),ModelValidation}(),phoneNumberRegEx=/^[0-9\+ ]+$/,_export("default",ModelValidation)}}}),System.register("d2/model/Model",["npm:babel-runtime@5.2.16/helpers/create-class","npm:babel-runtime@5.2.16/helpers/class-call-check","npm:babel-runtime@5.2.16/core-js/object/define-property","npm:babel-runtime@5.2.16/core-js/object/define-properties","d2/lib/check","d2/model/ModelBase"],function(_export){var _createClass,_classCallCheck,_Object$defineProperty,_Object$defineProperties,checkType,ModelBase,Model;return{setters:[function(_npmBabelRuntime5216HelpersCreateClass){_createClass=_npmBabelRuntime5216HelpersCreateClass["default"]},function(_npmBabelRuntime5216HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5216HelpersClassCallCheck["default"]},function(_npmBabelRuntime5216CoreJsObjectDefineProperty){_Object$defineProperty=_npmBabelRuntime5216CoreJsObjectDefineProperty["default"]},function(_npmBabelRuntime5216CoreJsObjectDefineProperties){_Object$defineProperties=_npmBabelRuntime5216CoreJsObjectDefineProperties["default"]},function(_d2LibCheck){checkType=_d2LibCheck.checkType},function(_d2ModelModelBase){ModelBase=_d2ModelModelBase["default"]}],execute:function(){"use strict";Model=function(){function Model(modelDefinition){_classCallCheck(this,Model),checkType(modelDefinition,"object","modelDefinition"),checkType(modelDefinition.modelProperties,"object","modelProperties"),_Object$defineProperty(this,"modelDefinition",{enumerable:!1,configurable:!1,writable:!1,value:modelDefinition}),_Object$defineProperty(this,"dirty",{enumerable:!1,configurable:!1,writable:!0,value:!1}),_Object$defineProperty(this,"dataValues",{enumerable:!1,configurable:!0,writable:!0,value:{}}),_Object$defineProperties(this,modelDefinition.modelProperties)}return _createClass(Model,null,[{key:"create",value:function(modelDefinition){return new Model(modelDefinition)}}]),Model}(),Model.prototype=ModelBase,_export("default",Model)}}}),System.register("d2/lib/check",["npm:babel-runtime@5.2.16/core-js/number/is-integer"],function(_export){function checkType(value,type,name){if(checkDefined(value,name),checkDefined(type,"Type"),"function"==typeof type&&value instanceof type||"string"==typeof type&&typeof value===type)return!0;throw new Error(["Expected",name||value,"to have type",type].join(" "))}function checkDefined(value,name){if(void 0!==value)return!0;throw new Error([name||"Value","should be provided"].join(" "))}function isType(value,type){try{return checkType(value,type),!0}catch(e){}return!1}function isString(value){return isType(value,"string")}function isArray(value){return Array.isArray(value)}function isObject(value){return isType(value,Object)}function isDefined(value){return void 0!==value}function isInteger(nVal){return"number"==typeof nVal&&isFinite(nVal)&&nVal>-9007199254740992&&9007199254740992>nVal&&Math.floor(nVal)===nVal}function isNumeric(nVal){return"number"==typeof nVal&&isFinite(nVal)&&nVal-parseFloat(nVal)+1>=0}function contains(item,list){return list=isArray(list)&&list||[],list.indexOf(item)>=0}function isValidUid(value){return value&&11===value.length}var _Number$isInteger;return{setters:[function(_npmBabelRuntime5216CoreJsNumberIsInteger){_Number$isInteger=_npmBabelRuntime5216CoreJsNumberIsInteger["default"]}],execute:function(){"use strict";_export("checkType",checkType),_export("checkDefined",checkDefined),_export("isType",isType),_export("isString",isString),_export("isArray",isArray),_export("isObject",isObject),_export("isDefined",isDefined),_export("isInteger",isInteger),_export("isNumeric",isNumeric),_export("contains",contains),_export("isValidUid",isValidUid),_Number$isInteger||(_Number$isInteger=isInteger),_export("default",{checkType:checkType,checkDefined:checkDefined,isArray:isArray,isDefined:isDefined,isInteger:isInteger,isNumeric:isNumeric,isString:isString,isType:isType,contains:contains,isValidUid:isValidUid})}}}),System.register("d2/model/ModelBase",["npm:babel-runtime@5.2.16/helpers/create-class","npm:babel-runtime@5.2.16/helpers/class-call-check","npm:babel-runtime@5.2.16/core-js/promise","npm:babel-runtime@5.2.16/core-js/object/keys","d2/model/ModelValidation"],function(_export){var _createClass,_classCallCheck,_Promise,_Object$keys,ModelValidation,modelValidator,ModelBase;return{setters:[function(_npmBabelRuntime5216HelpersCreateClass){_createClass=_npmBabelRuntime5216HelpersCreateClass["default"]},function(_npmBabelRuntime5216HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5216HelpersClassCallCheck["default"]},function(_npmBabelRuntime5216CoreJsPromise){_Promise=_npmBabelRuntime5216CoreJsPromise["default"]},function(_npmBabelRuntime5216CoreJsObjectKeys){_Object$keys=_npmBabelRuntime5216CoreJsObjectKeys["default"]},function(_d2ModelModelValidation){ModelValidation=_d2ModelModelValidation["default"]}],execute:function(){"use strict";modelValidator=ModelValidation.getModelValidation(),ModelBase=function(){function ModelBase(){_classCallCheck(this,ModelBase)}return _createClass(ModelBase,[{key:"save",value:function(){var _this=this;return this.dirty?this.validate().then(function(validationState){return validationState.status?_this.modelDefinition.save(_this).then(function(){return _this.dirty=!1}):_Promise.reject(validationState)}):_Promise.reject("No changes to be saved")}},{key:"validate",value:function(){var _this2=this;return new _Promise(function(resolve,reject){function unique(current,property){return property&&-1===current.indexOf(property)&&current.push(property),current}function localValidation(modelValidations,dataValues){var validationMessagesLocal=[];return _Object$keys(modelValidations).forEach(function(propertyName){var validationStatus=modelValidator.validate(modelValidations[propertyName],dataValues[propertyName]);validationStatus.status||validationStatus.messages.forEach(function(message){message.property=propertyName}),modelValidationStatus=modelValidationStatus&&validationStatus.status,validationMessagesLocal=validationMessagesLocal.concat(validationStatus.messages||[])}),validationMessagesLocal}function asyncRemoteValidation(model){return modelValidator.validateAgainstSchema(model)}var modelValidationStatus=!0,validationMessages=[],validationState=void 0;validationMessages=validationMessages.concat(localValidation(_this2.modelDefinition.modelValidations,_this2.dataValues)),asyncRemoteValidation(_this2).then(function(remoteMessages){validationMessages=validationMessages.concat(remoteMessages),validationState={status:modelValidationStatus,fields:validationMessages.map(function(validationMessage){return validationMessage.property}).reduce(unique,[]),messages:validationMessages},resolve(validationState)})["catch"](function(message){return reject(message)})})}}]),ModelBase}(),_export("default",new ModelBase)}}}),System.register("d2/model/ModelCollection",["npm:babel-runtime@5.2.16/helpers/create-class","npm:babel-runtime@5.2.16/helpers/class-call-check","npm:babel-runtime@5.2.16/helpers/to-consumable-array","npm:babel-runtime@5.2.16/core-js/map","npm:babel-runtime@5.2.16/core-js/symbol/iterator","d2/lib/check","d2/lib/utils","d2/model/Model","d2/model/ModelDefinition","d2/pager/Pager"],function(_export){function throwIfContainsOtherThanModelObjects(values){if(values&&values[_Symbol$iterator]){var toCheck=[].concat(_toConsumableArray(values));toCheck.forEach(function(value){value instanceof Model||throwError("Values of a ModelCollection must be instances of Model")})}}function throwIfContainsModelWithoutUid(values){if(values&&values[_Symbol$iterator]){var toCheck=[].concat(_toConsumableArray(values));toCheck.forEach(function(value){isValidUid(value.id)||throwError("Can not add a Model without id to a ModelCollection")})}}var _createClass,_classCallCheck,_toConsumableArray,_Map,_Symbol$iterator,isValidUid,isArray,checkType,throwError,Model,ModelDefinition,Pager,ModelCollection;return{setters:[function(_npmBabelRuntime5216HelpersCreateClass){_createClass=_npmBabelRuntime5216HelpersCreateClass["default"]},function(_npmBabelRuntime5216HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5216HelpersClassCallCheck["default"]},function(_npmBabelRuntime5216HelpersToConsumableArray){_toConsumableArray=_npmBabelRuntime5216HelpersToConsumableArray["default"]},function(_npmBabelRuntime5216CoreJsMap){_Map=_npmBabelRuntime5216CoreJsMap["default"]},function(_npmBabelRuntime5216CoreJsSymbolIterator){_Symbol$iterator=_npmBabelRuntime5216CoreJsSymbolIterator["default"]},function(_d2LibCheck){isValidUid=_d2LibCheck.isValidUid,isArray=_d2LibCheck.isArray,checkType=_d2LibCheck.checkType},function(_d2LibUtils){throwError=_d2LibUtils.throwError},function(_d2ModelModel){Model=_d2ModelModel["default"]},function(_d2ModelModelDefinition){ModelDefinition=_d2ModelModelDefinition["default"]},function(_d2PagerPager){Pager=_d2PagerPager["default"]}],execute:function(){"use strict";ModelCollection=function(){function ModelCollection(modelDefinition,values,pagerData){var _this=this;_classCallCheck(this,ModelCollection),checkType(modelDefinition,ModelDefinition),this.modelDefinition=modelDefinition,this.pager=new Pager(pagerData,modelDefinition),this.valuesContainerMap=new _Map,this[_Symbol$iterator]=this.valuesContainerMap[_Symbol$iterator].bind(this.valuesContainerMap),throwIfContainsOtherThanModelObjects(values),throwIfContainsModelWithoutUid(values),isArray(values)&&values.forEach(function(value){return _this.add(value)})}return _createClass(ModelCollection,[{key:"size",get:function(){return this.valuesContainerMap.size}},{key:"add",value:function(value){return throwIfContainsOtherThanModelObjects([value]),throwIfContainsModelWithoutUid([value]),this.set(value.id,value),this}},{key:"toArray",value:function(){var resultArray=[];return this.forEach(function(model){resultArray.push(model)}),resultArray}},{key:"clear",value:function(){return this.valuesContainerMap.clear.apply(this.valuesContainerMap)}},{key:"delete",value:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return this.valuesContainerMap["delete"].apply(this.valuesContainerMap,args)}},{key:"entries",value:function(){return this.valuesContainerMap.entries.apply(this.valuesContainerMap)}},{key:"forEach",value:function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_len2>_key2;_key2++)args[_key2]=arguments[_key2];return this.valuesContainerMap.forEach.apply(this.valuesContainerMap,args)}},{key:"get",value:function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_len3>_key3;_key3++)args[_key3]=arguments[_key3];return this.valuesContainerMap.get.apply(this.valuesContainerMap,args)}},{key:"has",value:function(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_len4>_key4;_key4++)args[_key4]=arguments[_key4];return this.valuesContainerMap.has.apply(this.valuesContainerMap,args)}},{key:"keys",value:function(){return this.valuesContainerMap.keys.apply(this.valuesContainerMap)}},{key:"set",value:function(){for(var _len5=arguments.length,args=Array(_len5),_key5=0;_len5>_key5;_key5++)args[_key5]=arguments[_key5];return this.valuesContainerMap.set.apply(this.valuesContainerMap,args)}},{key:"values",value:function(){return this.valuesContainerMap.values.apply(this.valuesContainerMap)}}],[{key:"create",value:function(modelDefinition,values,pagerData){return new ModelCollection(modelDefinition,values,pagerData)}}]),ModelCollection}(),_export("default",ModelCollection)}}}),System.register("d2/model/ModelDefinition",["npm:babel-runtime@5.2.16/helpers/create-class","npm:babel-runtime@5.2.16/helpers/class-call-check","npm:babel-runtime@5.2.16/helpers/inherits","npm:babel-runtime@5.2.16/helpers/get","npm:babel-runtime@5.2.16/core-js/object/keys","npm:babel-runtime@5.2.16/core-js/promise","npm:babel-runtime@5.2.16/core-js/object/freeze","d2/lib/check","d2/lib/utils","d2/model/Model","d2/model/ModelCollection","d2/lib/SchemaTypes"],function(_export){function createPropertiesObject(schemaProperties){var propertiesObject={},createModelPropertyDescriptorOn=curry(createModelPropertyDescriptor,propertiesObject);return(schemaProperties||[]).forEach(createModelPropertyDescriptorOn),propertiesObject}function createModelPropertyDescriptor(propertiesObject,schemaProperty){var propertyName=schemaProperty.collection?schemaProperty.collectionName:schemaProperty.name,propertyDetails={configurable:!1,enumerable:!0,get:function(){return this.dataValues[propertyName]}};schemaProperty.writable&&(propertyDetails.set=function(value){(!isObject(value)&&value!==this.dataValues[propertyName]||isObject(value))&&(this.dirty=!0,this.dataValues[propertyName]=value)}),propertyName&&(propertiesObject[propertyName]=propertyDetails)}function createValidations(schemaProperties){var validationsObject={},createModelPropertyOn=curry(createValidationSetting,validationsObject);return(schemaProperties||[]).forEach(createModelPropertyOn),validationsObject}function createValidationSetting(validationObject,schemaProperty){function getReferenceTypeFrom(schemaProperty){function isStringContains(text,contains){return text.toLowerCase().indexOf(contains.toLowerCase())>=0}function lowerCaseFirstLetter(text){return text.charAt(0).toLowerCase()+text.slice(1)}var classPart=void 0,owningRolePart=void 0;try{classPart=schemaProperty.klass.split(".").reverse()[0],owningRolePart=schemaProperty.owningRole.split(".").reverse()[0]}catch(e){return void 0}return isStringContains(classPart,owningRolePart)?lowerCaseFirstLetter(owningRolePart):isStringContains(owningRolePart,classPart)?lowerCaseFirstLetter(classPart):void 0}var propertyName=schemaProperty.collection?schemaProperty.collectionName:schemaProperty.name,validationDetails={persisted:schemaProperty.persisted,type:schemaTypes.typeLookup(schemaProperty.propertyType),required:schemaProperty.required,min:schemaProperty.min,max:schemaProperty.max,owner:schemaProperty.owner,unique:schemaProperty.unique,writable:schemaProperty.writable,constants:schemaProperty.constants};"REFERENCE"===validationDetails.type&&(validationDetails.referenceType=getReferenceTypeFrom(schemaProperty)),propertyName&&(validationObject[propertyName]=validationDetails)}var _createClass,_classCallCheck,_inherits,_get,_Object$keys,_Promise,_Object$freeze,checkType,isObject,checkDefined,addLockedProperty,curry,Model,ModelCollection,schemaTypes,ModelDefinition,UserModelDefinition;return{setters:[function(_npmBabelRuntime5216HelpersCreateClass){_createClass=_npmBabelRuntime5216HelpersCreateClass["default"]},function(_npmBabelRuntime5216HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5216HelpersClassCallCheck["default"]},function(_npmBabelRuntime5216HelpersInherits){_inherits=_npmBabelRuntime5216HelpersInherits["default"]},function(_npmBabelRuntime5216HelpersGet){_get=_npmBabelRuntime5216HelpersGet["default"]},function(_npmBabelRuntime5216CoreJsObjectKeys){_Object$keys=_npmBabelRuntime5216CoreJsObjectKeys["default"]},function(_npmBabelRuntime5216CoreJsPromise){_Promise=_npmBabelRuntime5216CoreJsPromise["default"]},function(_npmBabelRuntime5216CoreJsObjectFreeze){_Object$freeze=_npmBabelRuntime5216CoreJsObjectFreeze["default"]},function(_d2LibCheck){checkType=_d2LibCheck.checkType,isObject=_d2LibCheck.isObject,checkDefined=_d2LibCheck.checkDefined},function(_d2LibUtils){addLockedProperty=_d2LibUtils.addLockedProperty,curry=_d2LibUtils.curry},function(_d2ModelModel){Model=_d2ModelModel["default"]},function(_d2ModelModelCollection){ModelCollection=_d2ModelModelCollection["default"]},function(_d2LibSchemaTypes){schemaTypes=_d2LibSchemaTypes["default"]}],execute:function(){"use strict";ModelDefinition=function(){function ModelDefinition(modelName,modelNamePlural,modelOptions,properties,validations){_classCallCheck(this,ModelDefinition),checkType(modelName,"string"),checkType(modelNamePlural,"string","Plural"),addLockedProperty(this,"name",modelName),addLockedProperty(this,"plural",modelNamePlural),addLockedProperty(this,"isMetaData",modelOptions&&modelOptions.metadata||!1),addLockedProperty(this,"apiEndpoint",modelOptions&&modelOptions.apiEndpoint),addLockedProperty(this,"modelProperties",properties),addLockedProperty(this,"modelValidations",validations)}return _createClass(ModelDefinition,[{key:"create",value:function(data){var model=Model.create(this);return data&&_Object$keys(model).forEach(function(key){model.dataValues[key]=data[key]}),model}},{key:"get",value:function(identifier){var _this=this,queryParams=void 0===arguments[1]?{fields:":all"}:arguments[1];return checkDefined(identifier,"Identifier"),this.api.get([this.apiEndpoint,identifier].join("/"),queryParams).then(function(data){return _this.create(data)})["catch"](function(response){return _Promise.reject(response.data)})}},{key:"list",value:function(){var _this2=this,queryParams=void 0===arguments[0]?{fields:":all"}:arguments[0];return this.api.get(this.apiEndpoint,queryParams).then(function(data){return ModelCollection.create(_this2,data[_this2.plural].map(function(data){return _this2.create(data)}),data.pager)})}},{key:"save",value:function(model){var isAnUpdate=function(model){return!!model.id};return isAnUpdate(model)?this.api.update(model.dataValues.href,this.getOwnedPropertyJSON(model)):this.api.post(this.apiEndpoint,this.getOwnedPropertyJSON(model))}},{key:"getOwnedPropertyJSON",value:function(model){var objectToSave={},ownedProperties=this.getOwnedPropertyNames();return _Object$keys(this.modelValidations).forEach(function(propertyName){ownedProperties.includes(propertyName)&&model.dataValues[propertyName]&&(objectToSave[propertyName]=model.dataValues[propertyName])}),objectToSave}},{key:"getOwnedPropertyNames",value:function(){var _this3=this;return _Object$keys(this.modelValidations).filter(function(propertyName){return _this3.modelValidations[propertyName].owner})}}],[{key:"createFromSchema",value:function(schema){var ModelDefinitionClass=void 0;return checkType(schema,Object,"Schema"),ModelDefinitionClass="function"==typeof ModelDefinition.specialClasses[schema.name]?ModelDefinition.specialClasses[schema.name]:ModelDefinition,_Object$freeze(new ModelDefinitionClass(schema.name,schema.plural,schema,_Object$freeze(createPropertiesObject(schema.properties)),_Object$freeze(createValidations(schema.properties))))}}]),ModelDefinition}(),UserModelDefinition=function(_ModelDefinition){function UserModelDefinition(){_classCallCheck(this,UserModelDefinition),null!=_ModelDefinition&&_ModelDefinition.apply(this,arguments)}return _inherits(UserModelDefinition,_ModelDefinition),_createClass(UserModelDefinition,[{key:"get",value:function(identifier){var queryParams=void 0===arguments[1]?{fields:":all,userCredentials[:owner]"}:arguments[1];return _get(Object.getPrototypeOf(UserModelDefinition.prototype),"get",this).call(this,identifier,queryParams)}}]),UserModelDefinition}(ModelDefinition),ModelDefinition.specialClasses={user:UserModelDefinition},_export("default",ModelDefinition)}}}),System.register("d2/model/models",["d2/model/ModelBase","d2/model/Model","d2/model/ModelDefinition","d2/model/ModelDefinitions","d2/model/ModelValidation"],function(_export){var ModelBase,Model,ModelDefinition,ModelDefinitions,ModelValidation;return{setters:[function(_d2ModelModelBase){ModelBase=_d2ModelModelBase["default"]},function(_d2ModelModel){Model=_d2ModelModel["default"]},function(_d2ModelModelDefinition){ModelDefinition=_d2ModelModelDefinition["default"]},function(_d2ModelModelDefinitions){ModelDefinitions=_d2ModelModelDefinitions["default"]},function(_d2ModelModelValidation){ModelValidation=_d2ModelModelValidation["default"]}],execute:function(){"use strict";_export("default",{ModelBase:ModelBase,Model:Model,ModelDefinition:ModelDefinition,ModelDefinitions:ModelDefinitions,ModelValidations:ModelValidation})}}}),System.register("d2",["npm:babel-runtime@5.2.16/core-js/promise","d2/lib/utils","d2/lib/check","d2/logger/Logger","d2/model/models","d2/api/Api"],function(_export){function d2Init(config){var logger=Logger.getLogger(),d2={models:void 0,model:model,Api:Api},api=Api.getApi();return config&&checkType(config,"object","Config parameter")&&processConfig(api,config),model.ModelDefinition.prototype.api=api,d2.models=new model.ModelDefinitions,api.get("schemas").then(pick("schemas")).then(function(schemas){return schemas.forEach(function(schema){d2.models.add(model.ModelDefinition.createFromSchema(schema))}),d2})["catch"](function(error){return logger.error("Unable to get schemas from the api",error),_Promise.reject(error)})}function processConfig(api,config){api.setBaseUrl(isString(config.baseUrl)?config.baseUrl:"/api")}var _Promise,pick,checkType,isString,Logger,model,Api;return{setters:[function(_npmBabelRuntime5216CoreJsPromise){_Promise=_npmBabelRuntime5216CoreJsPromise["default"]},function(_d2LibUtils){pick=_d2LibUtils.pick},function(_d2LibCheck){checkType=_d2LibCheck.checkType,isString=_d2LibCheck.isString},function(_d2LoggerLogger){Logger=_d2LoggerLogger["default"]},function(_d2ModelModels){model=_d2ModelModels["default"]},function(_d2ApiApi){Api=_d2ApiApi["default"]}],execute:function(){"use strict";"undefined"!=typeof window&&(window.d2=d2Init),_export("default",d2Init)}}})});
//# sourceMappingURL=d2-sfx.js.map